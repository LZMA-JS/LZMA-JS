//! Â© 2015 Nathan Rugg <nmrugg@gmail.com> | MIT
"undefined"==typeof Worker||"undefined"!=typeof location&&"file:"===location.protocol?"undefined"!=typeof global&&"undefined"!=typeof require?this.LZMA=function(e){return require(e||"./lzma_worker.js").LZMA}:"undefined"!=typeof window&&window.document?function(){function e(e){var o;return r(e),o={compress:function(e,r,t,i){n.LZMA_WORKER?n.LZMA_WORKER.compress(e,r,t,i):setTimeout(function(){o.compress(e,r,t,i)},50)},decompress:function(e,r,t){n.LZMA_WORKER?n.LZMA_WORKER.decompress(e,r,t):setTimeout(function(){o.decompress(e,r,t)},50)},worker:function(){return null}}}var n,o=this,r=function(n){var r=document.createElement("script");r.type="text/javascript",r.src=n,r.onload=function(){o.LZMA=e},document.getElementsByTagName("head")[0].appendChild(r)};"undefined"!=typeof window?n=window:global&&(n=global),o.LZMA=e}():console.error("Can't load the worker. Sorry."):this.LZMA=function(e){var n=new Worker(e||"./lzma_worker-min.js");return n.onerror=function(e){var n=Error(e.message+" ("+e.filename+":"+e.lineno+")");console.error("Uncaught error in lzma_worker",n)},function(){function e(e,o,r,t,i){var a=new MessageChannel;n.addEventListener("error",function(e){var n=Error(e.message+" ("+e.filename+":"+e.lineno+")");"function"==typeof t&&t(null,n)}),a.port1.onmessage=function(e){3===e.data.action?"function"==typeof i&&i(e.data.result):("function"==typeof t&&t(e.data.result,e.data.error),a.port1.onmessage=null)},n.postMessage({action:e,data:o,mode:r},[a.port2])}return{compress:function(n,o,r,t){e(1,n,o,r,t)},decompress:function(n,o,r){e(2,n,!1,o,r)},worker:function(){return n}}}()};